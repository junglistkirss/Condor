# Condor.Visitor.Generator

This generator help developper to generate interfaces/classes responding to the visitor pattern.

In assembly named `shared`, referencing assembly named `Contracts`, the `Contracts.Abstractions.MyBaseEvent` is used to generated the visitor. Derived types are discovered by the generator using the `AutoAcceptorAttribute<>`, it will find `Contracts.MyItemCreated`, `Contracts.MyItemChanged`, `Contracts.MyITemDeleted` types.

Actually, derived types cannot ordereds in the VisitREdirect method, please be aware of the behavior when using the generation of the VisitRedirect method.

```csharp
namespace Shared.Visitors;

[Visitor]
[AutoAcceptor<MyBaseEvent>(AssemblyPattern = "Contracts.*", Accept = AcceptedKind.Concrete, AddVisitRedirect = true)]
[GenerateDefault(Options = OptionsDefault.AsbtractPartial, VisitOptions = VisitOptions.AbstractVisit)]
public partial interface IAppEventVisitor<in TArgs> { }
```

will generate : 
```csharp
// <auto-generated>

namespace Shared.Visitors
{
    public partial interface IAppEventVisitor<in TArgs>
    {
        void VisitRedirect(Contracts.Abstractions.MyBaseEvent element, TArgs args);
        void Visit(Contracts.MyItemChanged element, TArgs args);
        void Visit(Contracts.MyItemCreated element, TArgs args);
        void Visit(Contracts.MyItemDeleted element, TArgs args);
    }
    public abstract partial class DefaultAppEventVisitor<TArgs> : IAppEventVisitor<TArgs>
    {
        public virtual void VisitRedirect(Contracts.Abstractions.MyBaseEvent element, TArgs args)
        {
            switch (element)
            {
                case Contracts.MyItemChanged x:
                    Visit(x, args);
                    break;
                case Contracts.MyItemCreated x:
                    Visit(x, args);
                    break;
                case Contracts.MyItemDeleted x:
                    Visit(x, args);
                    break;
                default:
                    throw new System.NotSupportedException();
            }
        }
        public abstract void Visit(Contracts.MyItemChanged element, TArgs args);
        public abstract void Visit(Contracts.MyItemCreated element, TArgs args);
        public abstract void Visit(Contracts.MyItemDeleted element, TArgs args);
    }
}
```

For more options availables on theses attributes please refer to the `Condor.Visitor.Abstrations` ReadMe